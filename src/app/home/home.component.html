<div *ngIf="loading">
  <div class="psoload">
    <div class="straight"></div>
    <div class="curve"></div>
    <div class="center"></div>
    <div class="inner"></div>
  </div>
</div>

<div class="col-md-6">
  <h2>New Network Set-Up</h2>
  <p>{{table | json }}</p>
  <form class="form-horizontal" [formGroup]="form" (ngSubmit)="onSubmit(form)">
    <div class="form-group">
      <label for="orgId" class="col-sm-4 control-label">Organization</label>
      <div class="col-sm-8">
        <select formControlName="orgId">
          <option *ngFor="let org of orgs" [value]="org.id">{{org.name}}</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <label for="template" class="col-sm-4 control-label">Template</label>
      <div class="col-sm-8">
        <select formControlName="templateId">
          <option *ngFor="let template of templates" [value]="template.id">{{template.name}}</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <label for="networkName" class="col-sm-4 control-label">Network Name:</label>
      <div class="col-sm-8">
        <input type="text" class="form-control" formControlName="name" placeholder="Store-001" />
      </div>
    </div>
    <div class="form-group">
      <label for="networkTag" class="col-sm-4 control-label">Network Tags:</label>
      <div class="col-sm-8">
        <input type="text" class="form-control" formControlName="tags" placeholder="flagship south" />
      </div>
    </div>
    <div class="form-group">
      <label for="siteAddress" class="col-sm-4 control-label">Site Address:</label>
      <div class="col-sm-8">
        <input type="text" class="form-control" formControlName="address" placeholder="1 Main St" />
      </div>
    </div>
    <!--div class="form-group">
      <label for="orderNumber" class="col-sm-4 control-label">Order Number:</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" formControlName="orderNumber"/>
      </div>
    </div-->

    <!-- using template to assign timeZone>
    <div class="form-group">
      <label for="timeZone" class="col-sm-4 control-label">Time Zone</label>
      <div class="col-sm-4">
        <select formControlName="timeZone">
          <option value="America/Chicago">America/Chicago</option>
          <option value="America/Los_Angeles">America/Los Angeles</option>
          <option value="America/New_York">America/New York</option>
          <option value="Europe/Amsterdam">Europe/Amsterdam</option>
        </select>
      </div>
    </div>
  -->
    <div class="row">
      <button class="btn btn-primary" type="submit">Create Network</button>
    </div>

  </form>
</div>


<div class="col-md-6">
  <div *ngIf="newNet.id">

    <h2 class="card-title">Summary</h2>
    <h4 class="card-subtitle mb-2 text-muted">
      <b>{{newNet.name}}</b>
    </h4>


    <div class="col-md-8">
      <div class="row">
        <div class="col-md-6">Network ID</div>
        <div class="col-md-6">{{newNet.id}}</div>
      </div>
      <div class="row">
        <div class="col-md-6">Type</div>
        <div class="col-md-6">{{newNet.type}}</div>
      </div>
      <div class="row">
        <div class="col-md-6">Address</div>
        <div class="col-md-6">{{newNet.address}}</div>
      </div>
      <div class="row">
        <div class="col-md-6">Time Zone</div>
        <div class="col-md-6">{{newNet.timeZone}}</div>
      </div>
      <div class="row">
        <div class="col-md-6">Tags</div>
        <div class="col-md-6">{{newNet.tags}}</div>
      </div>
      <div class="row">
        <div class="col-md-6">Template ID</div>
        <div class="col-md-6">{{newNet.configTemplateId}}</div>
      </div>
    </div>


  </div>
</div>

<div class="row">
  <div class="col-md-4 col-md-offset-4">
    <button class="btn btn-success pull-right" [disabled]="!newNet.configTemplateId" (click)="onAddDevices()">
      <i class="fa fa-plus"></i> Add Devices
    </button>
  </div>
</div>